/*!
 * TrueJSON: respectful JSON serialization & deserialization for JavaScript
 * v1.0.0
 *
 * https://github.com/nestorrente/true-json
 *
 * Released under the MIT License.
 *
 * Build date: 2021-11-26T16:52:10.607Z
 */
var TrueJSON;(()=>{var r={146:r=>{var t,e,o=Function.prototype,n=Object.prototype,a=o.toString,i=n.hasOwnProperty,s=a.call(Object),c=n.toString,u=(t=Object.getPrototypeOf,e=Object,function(r){return t(e(r))});r.exports=function(r){if(!function(r){return!!r&&"object"==typeof r}(r)||"[object Object]"!=c.call(r)||function(r){var t=!1;if(null!=r&&"function"!=typeof r.toString)try{t=!!(r+"")}catch(r){}return t}(r))return!1;var t=u(r);if(null===t)return!0;var e=i.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&a.call(e)==s}}},t={};function e(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return r[o](a,a.exports,e),a.exports}e.n=r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},e.d=(r,t)=>{for(var o in t)e.o(t,o)&&!e.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:t[o]})},e.o=(r,t)=>Object.prototype.hasOwnProperty.call(r,t),e.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var o={};(()=>{"use strict";e.d(o,{default:()=>O});var r={};e.r(r),e.d(r,{JsonAdapters:()=>b,JsonConverter:()=>s});var t,n,a=function(r,t,e,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?r!==t||!n:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(r,e):n?n.value=e:t.set(r,e),e},i=function(r,t,e,o){if("a"===e&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!o:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?o:"a"===e?o.call(r):o?o.value:t.get(r)};class s{constructor(r,e=JSON){t.set(this,void 0),n.set(this,void 0),a(this,t,e,"f"),a(this,n,r,"f")}stringify(r,e){return i(this,t,"f").stringify(i(this,n,"f").adaptToJson(r),void 0,e)}parse(r){return i(this,n,"f").recoverFromJson(i(this,t,"f").parse(r))}}function c(){return{adaptToJson:r=>r,recoverFromJson:r=>r}}t=new WeakMap,n=new WeakMap;var u=e(146),p=e.n(u);function f(r,t){return Object.prototype.hasOwnProperty.call(r,t)}const d=r=>{if("string"!=typeof r)throw new TypeError("input value is not a string")},l=r=>{if((r=>{if(!(r instanceof Date))throw new TypeError("input value is not a date")})(r),isNaN(r.getTime()))throw new TypeError("input value is not a valid date")},v=r=>{if(!Array.isArray(r))throw new TypeError("input value is not an array")};function m(r){if(!Array.isArray(r)||2!==r.length)throw new TypeError("input value is not a tuple")}const J=r=>{if(!p()(r))throw new TypeError("input value is not a plain object")};function w(r){return{adaptToJson:t=>(v(t),t.map((t=>r.adaptToJson(t)))),recoverFromJson:t=>(v(t),t.map((t=>r.recoverFromJson(t))))}}function y(r){var t,e;const o=null!==(t=null==r?void 0:r.keyAdapter)&&void 0!==t?t:{adaptToJson:r=>r,recoverFromJson:r=>r},n=null!==(e=null==r?void 0:r.valueAdapter)&&void 0!==e?e:{adaptToJson:r=>r,recoverFromJson:r=>r},a=w({adaptToJson(r){m(r);const[t,e]=r;return[o.adaptToJson(t),n.adaptToJson(e)]},recoverFromJson(r){m(r);const[t,e]=r;return[o.recoverFromJson(t),n.recoverFromJson(e)]}});return{adaptToJson:r=>((r=>{if(!(r instanceof Map))throw new TypeError("input value is not a map")})(r),a.adaptToJson([...r])),recoverFromJson:r=>new Map(a.recoverFromJson(r))}}function T(r,t,e){const{omitUnmappedProperties:o,omittedProperties:n}=e,a=Object.entries(r);return o||0!==n.length?a.filter((([r])=>!function(r,t,e){return function(r,t){const{omittedProperties:e}=t;return e.includes(r)}(r,e)||e.omitUnmappedProperties&&function(r,t){return!f(t,r)}(r,t)}(r,t,e))):a}function h(r){return null==r}const b={identity:c,isoDate:function(){return{adaptToJson:r=>(l(r),r.toJSON()),recoverFromJson:r=>((r=>{if(d(r),isNaN(new Date(r).getTime()))throw new TypeError("input value has not a valid date format")})(r),new Date(r))}},dateTimestamp:function(){return{adaptToJson:r=>(l(r),r.getTime()),recoverFromJson:r=>((r=>{if("number"!=typeof r||!isFinite(r))throw new TypeError("input value is not a number")})(r),new Date(r))}},array:w,set:function(r={adaptToJson:r=>r,recoverFromJson:r=>r}){const t=w(r);return{adaptToJson:r=>((r=>{if(!(r instanceof Set))throw new TypeError("input value is not a set")})(r),t.adaptToJson([...r])),recoverFromJson:r=>(v(r),new Set(t.recoverFromJson(r)))}},record:function(r,t){const e=(o=t,Object.assign({strictPlainObjectCheck:!1},o));var o;return{adaptToJson(t){e.strictPlainObjectCheck&&J(t);const o=Object.entries(t).map((([t,e])=>[t,r.adaptToJson(e)]));return Object.fromEntries(o)},recoverFromJson(t){J(t);const e=Object.entries(t).map((([t,e])=>[t,r.recoverFromJson(e)]));return Object.fromEntries(e)}}},mapAsEntries:y,mapAsRecord:function(r){const t=y(r);return{adaptToJson(r){const e=t.adaptToJson(r);return Object.fromEntries(e)},recoverFromJson(r){J(r);const e=Object.entries(r);return t.recoverFromJson(e)}}},object:function(r,t){const e=(o=t,Object.assign({strictPlainObjectCheck:!1,omitUnmappedProperties:!1,omittedProperties:[]},o));var o;return{adaptToJson(t){e.strictPlainObjectCheck&&J(t);const o=T(t,r,e).map((([t,e])=>{const o=r[t];return[t,o?o.adaptToJson(e):e]}));return Object.fromEntries(o)},recoverFromJson(t){J(t);const o=T(t,r,e).map((([t,e])=>{const o=r[t];return[t,o?o.recoverFromJson(e):e]}));return Object.fromEntries(o)}}},byKey:function(r){return{adaptToJson(t){const e=Object.entries(r).find((([,r])=>t===r));if(e){const[r]=e;return r}throw new Error("input value is not associated with any key")},recoverFromJson:t=>(function(r,t){if(d(r),!f(t,r))throw new Error("input value is not a valid key")}(t,r),r[t])}},byKeyLenient:function(r,t){return{adaptToJson(e){const o=Object.entries(r).find((([,r])=>e===r));if(o){const[r]=o;return r}return t},recoverFromJson(e){if(void 0!==t||void 0!==e)return d(e),f(r,e)?r[e]:null!=t?r[t]:void 0}}},custom:function(r){return r},nullAware:function(r){return{adaptToJson:t=>null===t?null:r.adaptToJson(t),recoverFromJson:t=>null===t?null:r.recoverFromJson(t)}},undefinedAware:function(r){return{adaptToJson(t){if(void 0!==t)return r.adaptToJson(t)},recoverFromJson(t){if(void 0!==t)return r.recoverFromJson(t)}}},nullishAware:function(r){return{adaptToJson:t=>h(t)?t:r.adaptToJson(t),recoverFromJson:t=>h(t)?t:r.recoverFromJson(t)}}},O=r})(),TrueJSON=o.default})();
//# sourceMappingURL=true-json.js.map