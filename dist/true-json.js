/*!
 * TrueJSON: respectful JSON serialization & deserialization for JavaScript
 * v1.0.0
 *
 * https://github.com/nestorrente/true-json
 *
 * Released under the MIT License.
 *
 * Build date: 2021-11-05T17:59:38.548Z
 */
var TrueJSON;(()=>{"use strict";var o={d:(r,e)=>{for(var n in e)o.o(e,n)&&!o.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},o:(o,r)=>Object.prototype.hasOwnProperty.call(o,r),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},r={};o.d(r,{default:()=>v});var e={};o.r(e),o.d(e,{JsonAdapters:()=>m,JsonConverter:()=>i});var n,t,s=function(o,r,e){if(!r.has(o))throw new TypeError("attempted to set private field on non-instance");return r.set(o,e),e},a=function(o,r){if(!r.has(o))throw new TypeError("attempted to get private field on non-instance");return r.get(o)};class i{constructor(o,r=JSON){n.set(this,void 0),t.set(this,void 0),s(this,n,r),s(this,t,o)}stringify(o,r){return a(this,n).stringify(a(this,t).adaptToJson(o),void 0,r)}parse(o){return a(this,t).recoverFromJson(a(this,n).parse(o))}}function c(){return{adaptToJson:o=>o,recoverFromJson:o=>o}}function u(o){return{adaptToJson:r=>r.map((r=>o.adaptToJson(r))),recoverFromJson:r=>r.map((r=>o.recoverFromJson(r)))}}function d(o){var r,e;const n=null!==(r=null==o?void 0:o.keyAdapter)&&void 0!==r?r:{adaptToJson:o=>o,recoverFromJson:o=>o},t=null!==(e=null==o?void 0:o.valueAdapter)&&void 0!==e?e:{adaptToJson:o=>o,recoverFromJson:o=>o},s=u({adaptToJson(o){const[r,e]=o;return[n.adaptToJson(r),t.adaptToJson(e)]},recoverFromJson(o){const[r,e]=o;return[n.recoverFromJson(r),t.recoverFromJson(e)]}});return{adaptToJson:o=>s.adaptToJson([...o]),recoverFromJson:o=>new Map(s.recoverFromJson(o))}}function p(o,r,e){const{omitUnmappedProperties:n,omittedProperties:t}=e,s=Object.entries(o);return n||0!==t.length?s.filter((([o])=>!function(o,r,e){return function(o,r){const{omittedProperties:e}=r;return e.includes(o)}(o,e)||e.omitUnmappedProperties&&function(o,r){return!r.hasOwnProperty(o)}(o,r)}(o,r,e))):s}function J(o){return null==o}n=new WeakMap,t=new WeakMap;const m={identity:c,isoDate:function(){return{adaptToJson:o=>o.toJSON(),recoverFromJson:o=>new Date(o)}},dateTimestamp:function(){return{adaptToJson:o=>o.getTime(),recoverFromJson:o=>new Date(o)}},array:u,set:function(o={adaptToJson:o=>o,recoverFromJson:o=>o}){const r=u(o);return{adaptToJson:o=>r.adaptToJson([...o]),recoverFromJson:o=>new Set(r.recoverFromJson(o))}},record:function(o){return{adaptToJson(r){const e=Object.entries(r).map((([r,e])=>[r,o.adaptToJson(e)]));return Object.fromEntries(e)},recoverFromJson(r){const e=Object.entries(r).map((([r,e])=>[r,o.recoverFromJson(e)]));return Object.fromEntries(e)}}},mapAsEntries:d,mapAsRecord:function(o){const r=d(o);return{adaptToJson(o){const e=r.adaptToJson(o);return Object.fromEntries(e)},recoverFromJson(o){const e=Object.entries(o);return r.recoverFromJson(e)}}},object:function(o,r){const e=(n=r,Object.assign({omitUnmappedProperties:!1,omittedProperties:[]},n));var n;return{adaptToJson(r){const n=p(r,o,e).map((([r,e])=>{const n=o[r];return[r,n?n.adaptToJson(e):e]}));return Object.fromEntries(n)},recoverFromJson(r){const n=p(r,o,e).map((([r,e])=>{const n=o[r];return[r,n?n.recoverFromJson(e):e]}));return Object.fromEntries(n)}}},byKey:function(o){return{adaptToJson(r){const e=Object.entries(o).find((([,o])=>r===o));if(!e)throw new Error("Provided value is not associated with any key");const[n]=e;return n},recoverFromJson(r){if(null==r||!o.hasOwnProperty(r))throw new Error("Provided key is not associated with any value");return o[r]}}},byKeyLenient:function(o,r){return{adaptToJson(e){const n=Object.entries(o).find((([,o])=>e===o));if(!n)return r;const[t]=n;return t},recoverFromJson:e=>null!=e&&o.hasOwnProperty(e)?o[e]:null!=r?o[r]:void 0}},custom:function(o){return o},nullAware:function(o){return{adaptToJson:r=>null===r?null:o.adaptToJson(r),recoverFromJson:r=>null===r?null:o.recoverFromJson(r)}},undefinedAware:function(o){return{adaptToJson(r){if(void 0!==r)return o.adaptToJson(r)},recoverFromJson(r){if(void 0!==r)return o.recoverFromJson(r)}}},nullishAware:function(o){return{adaptToJson:r=>J(r)?r:o.adaptToJson(r),recoverFromJson:r=>J(r)?r:o.recoverFromJson(r)}}},v=e;TrueJSON=r.default})();
//# sourceMappingURL=true-json.js.map