/*!
 * TrueJSON: respectful JSON serialization & deserialization for JavaScript
 * v1.0.2
 *
 * https://github.com/nestorrente/true-json
 *
 * Released under the MIT License.
 *
 * Build date: 2023-10-22T21:11:50.319Z
 */
!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.TrueJSON=r():e.TrueJSON=r()}("undefined"!=typeof self?self:this,(()=>(()=>{var e={146:e=>{var r,t,o=Function.prototype,n=Object.prototype,i=o.toString,a=n.hasOwnProperty,s=i.call(Object),c=n.toString,u=(r=Object.getPrototypeOf,t=Object,function(e){return r(t(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=c.call(e)||function(e){var r=!1;if(null!=e&&"function"!=typeof e.toString)try{r=!!(e+"")}catch(e){}return r}(e))return!1;var r=u(e);if(null===r)return!0;var t=a.call(r,"constructor")&&r.constructor;return"function"==typeof t&&t instanceof t&&i.call(t)==s}}},r={};function t(o){var n=r[o];if(void 0!==n)return n.exports;var i=r[o]={exports:{}};return e[o](i,i.exports,t),i.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{"use strict";t.r(o),t.d(o,{JsonAdapters:()=>j,JsonConverter:()=>a});var e,r,n=function(e,r,t,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof r?e!==r||!n:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(e,t):n?n.value=t:r.set(e,t),t},i=function(e,r,t,o){if("a"===t&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof r?e!==r||!o:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?o:"a"===t?o.call(e):o?o.value:r.get(e)};e=new WeakMap,r=new WeakMap;const a=class{constructor(t,o=JSON){e.set(this,void 0),r.set(this,void 0),n(this,e,o,"f"),n(this,r,t,"f")}stringify(t,o){return i(this,e,"f").stringify(i(this,r,"f").adaptToJson(t),void 0,o)}parse(t){return i(this,r,"f").recoverFromJson(i(this,e,"f").parse(t))}};function s(e){return null==e?{adaptToJson:e=>e,recoverFromJson:e=>e}:{adaptToJson:r=>(e(r),r),recoverFromJson:r=>(e(r),r)}}var c=t(146),u=t.n(c);function p(e,r){return Object.prototype.hasOwnProperty.call(e,r)}const f=e=>{if("number"!=typeof e||!Number.isFinite(e))throw new TypeError("input value is not a finite number")},d=e=>{if("string"!=typeof e)throw new TypeError("input value is not a string")},l=e=>{if((e=>{if(!(e instanceof Date))throw new TypeError("input value is not a date")})(e),Number.isNaN(e.getTime()))throw new TypeError("input value is not a valid date")},v=e=>{if(!Array.isArray(e))throw new TypeError("input value is not an array")},m=e=>{if(!(e instanceof Map))throw new TypeError("input value is not a map")};function y(e){if(!Array.isArray(e)||2!==e.length)throw new TypeError("input value is not a tuple")}const J=e=>{if(!u()(e))throw new TypeError("input value is not a plain object")};function w(e){return{adaptToJson:r=>(v(r),r.map((r=>e.adaptToJson(r)))),recoverFromJson:r=>(v(r),r.map((r=>e.recoverFromJson(r))))}}function b(e){var r,t;const o=null!==(r=null==e?void 0:e.keyAdapter)&&void 0!==r?r:s(),n=null!==(t=null==e?void 0:e.valueAdapter)&&void 0!==t?t:s(),i=w({adaptToJson(e){y(e);const[r,t]=e;return[o.adaptToJson(r),n.adaptToJson(t)]},recoverFromJson(e){y(e);const[r,t]=e;return[o.recoverFromJson(r),n.recoverFromJson(t)]}});return{adaptToJson:e=>(m(e),i.adaptToJson([...e])),recoverFromJson:e=>new Map(i.recoverFromJson(e))}}function T(e,r,t){const{omitUnmappedProperties:o,omittedProperties:n}=t,i=Object.entries(e);return o||0!==n.length?i.filter((([e])=>!function(e,r,t){return function(e,r){const{omittedProperties:t}=r;return t.includes(e)}(e,t)||t.omitUnmappedProperties&&function(e,r){return!p(r,e)}(e,r)}(e,r,t))):i}function h(e){return null==e}const j={identity:s,stringIdentity:function(){return s((e=>d(e)))},numberIdentity:function(){return s((e=>f(e)))},integerIdentity:function(){return s((e=>(e=>{if("number"!=typeof e||!Number.isInteger(e))throw new TypeError("input value is not an integer")})(e)))},booleanIdentity:function(){return s((e=>(e=>{if("boolean"!=typeof e)throw new TypeError("input value is not a boolean")})(e)))},isoDate:function(){return{adaptToJson:e=>(l(e),e.toJSON()),recoverFromJson:e=>((e=>{if(d(e),Number.isNaN(new Date(e).getTime()))throw new TypeError("input value has not a valid date format")})(e),new Date(e))}},dateTimestamp:function(){return{adaptToJson:e=>(l(e),e.getTime()),recoverFromJson:e=>(f(e),new Date(e))}},array:w,set:function(e=s()){const r=w(e);return{adaptToJson:e=>((e=>{if(!(e instanceof Set))throw new TypeError("input value is not a set")})(e),r.adaptToJson([...e])),recoverFromJson:e=>(v(e),new Set(r.recoverFromJson(e)))}},record:function(e,r){const t=(o=r,Object.assign({strictPlainObjectCheck:!1},o));var o;return{adaptToJson(r){t.strictPlainObjectCheck&&J(r);const o=Object.entries(r).map((([r,t])=>[r,e.adaptToJson(t)]));return Object.fromEntries(o)},recoverFromJson(r){J(r);const t=Object.entries(r).map((([r,t])=>[r,e.recoverFromJson(t)]));return Object.fromEntries(t)}}},mapAsEntries:b,mapAsRecord:function(e){const r=b(e);return{adaptToJson(e){const t=r.adaptToJson(e);return Object.fromEntries(t)},recoverFromJson(e){J(e);const t=Object.entries(e);return r.recoverFromJson(t)}}},object:function(e,r){const t=(o=r,Object.assign({strictPlainObjectCheck:!1,omitUnmappedProperties:!1,omittedProperties:[]},o));var o;return{adaptToJson(r){t.strictPlainObjectCheck&&J(r);const o=T(r,e,t).map((([r,t])=>{const o=e[r];return[r,o?o.adaptToJson(t):t]}));return Object.fromEntries(o)},recoverFromJson(r){J(r);const o=T(r,e,t).map((([r,t])=>{const o=e[r];return[r,o?o.recoverFromJson(t):t]}));return Object.fromEntries(o)}}},byKey:function(e){return{adaptToJson(r){const t=Object.entries(e).find((([,e])=>r===e));if(t){const[e]=t;return e}throw new Error("input value is not associated with any key")},recoverFromJson:r=>(function(e,r){if(d(e),!p(r,e))throw new Error("input value is not a valid key")}(r,e),e[r])}},byKeyLenient:function(e,r){return{adaptToJson(t){const o=Object.entries(e).find((([,e])=>t===e));if(o){const[e]=o;return e}return r},recoverFromJson(t){if(void 0!==r||void 0!==t)return d(t),p(e,t)?e[t]:null!=r?e[r]:void 0}}},custom:function(e){return e},nullAware:function(e){return{adaptToJson:r=>null===r?null:e.adaptToJson(r),recoverFromJson:r=>null===r?null:e.recoverFromJson(r)}},undefinedAware:function(e){return{adaptToJson(r){if(void 0!==r)return e.adaptToJson(r)},recoverFromJson(r){if(void 0!==r)return e.recoverFromJson(r)}}},nullishAware:function(e){return{adaptToJson:r=>h(r)?r:e.adaptToJson(r),recoverFromJson:r=>h(r)?r:e.recoverFromJson(r)}}}})(),o})()));
//# sourceMappingURL=true-json.umd.js.map