/*!
 * TrueJSON: respectful JSON serialization & deserialization for JavaScript
 * v1.0.0
 *
 * https://github.com/nestorrente/true-json
 *
 * Released under the MIT License.
 *
 * Build date: 2021-11-26T16:52:10.607Z
 */
!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TrueJSON=e():r.TrueJSON=e()}("undefined"!=typeof self?self:this,(function(){return(()=>{var r={146:r=>{var e,t,o=Function.prototype,n=Object.prototype,a=o.toString,i=n.hasOwnProperty,s=a.call(Object),c=n.toString,u=(e=Object.getPrototypeOf,t=Object,function(r){return e(t(r))});r.exports=function(r){if(!function(r){return!!r&&"object"==typeof r}(r)||"[object Object]"!=c.call(r)||function(r){var e=!1;if(null!=r&&"function"!=typeof r.toString)try{e=!!(r+"")}catch(r){}return e}(r))return!1;var e=u(r);if(null===e)return!0;var t=i.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&a.call(t)==s}}},e={};function t(o){var n=e[o];if(void 0!==n)return n.exports;var a=e[o]={exports:{}};return r[o](a,a.exports,t),a.exports}t.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return t.d(e,{a:e}),e},t.d=(r,e)=>{for(var o in e)t.o(e,o)&&!t.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:e[o]})},t.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),t.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var o={};return(()=>{"use strict";t.r(o),t.d(o,{JsonAdapters:()=>b,JsonConverter:()=>i});var r,e,n=function(r,e,t,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(r,t):n?n.value=t:e.set(r,t),t},a=function(r,e,t,o){if("a"===t&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?o:"a"===t?o.call(r):o?o.value:e.get(r)};class i{constructor(t,o=JSON){r.set(this,void 0),e.set(this,void 0),n(this,r,o,"f"),n(this,e,t,"f")}stringify(t,o){return a(this,r,"f").stringify(a(this,e,"f").adaptToJson(t),void 0,o)}parse(t){return a(this,e,"f").recoverFromJson(a(this,r,"f").parse(t))}}function s(){return{adaptToJson:r=>r,recoverFromJson:r=>r}}r=new WeakMap,e=new WeakMap;var c=t(146),u=t.n(c);function p(r,e){return Object.prototype.hasOwnProperty.call(r,e)}const f=r=>{if("string"!=typeof r)throw new TypeError("input value is not a string")},d=r=>{if((r=>{if(!(r instanceof Date))throw new TypeError("input value is not a date")})(r),isNaN(r.getTime()))throw new TypeError("input value is not a valid date")},l=r=>{if(!Array.isArray(r))throw new TypeError("input value is not an array")};function v(r){if(!Array.isArray(r)||2!==r.length)throw new TypeError("input value is not a tuple")}const m=r=>{if(!u()(r))throw new TypeError("input value is not a plain object")};function J(r){return{adaptToJson:e=>(l(e),e.map((e=>r.adaptToJson(e)))),recoverFromJson:e=>(l(e),e.map((e=>r.recoverFromJson(e))))}}function y(r){var e,t;const o=null!==(e=null==r?void 0:r.keyAdapter)&&void 0!==e?e:{adaptToJson:r=>r,recoverFromJson:r=>r},n=null!==(t=null==r?void 0:r.valueAdapter)&&void 0!==t?t:{adaptToJson:r=>r,recoverFromJson:r=>r},a=J({adaptToJson(r){v(r);const[e,t]=r;return[o.adaptToJson(e),n.adaptToJson(t)]},recoverFromJson(r){v(r);const[e,t]=r;return[o.recoverFromJson(e),n.recoverFromJson(t)]}});return{adaptToJson:r=>((r=>{if(!(r instanceof Map))throw new TypeError("input value is not a map")})(r),a.adaptToJson([...r])),recoverFromJson:r=>new Map(a.recoverFromJson(r))}}function w(r,e,t){const{omitUnmappedProperties:o,omittedProperties:n}=t,a=Object.entries(r);return o||0!==n.length?a.filter((([r])=>!function(r,e,t){return function(r,e){const{omittedProperties:t}=e;return t.includes(r)}(r,t)||t.omitUnmappedProperties&&function(r,e){return!p(e,r)}(r,e)}(r,e,t))):a}function T(r){return null==r}const b={identity:s,isoDate:function(){return{adaptToJson:r=>(d(r),r.toJSON()),recoverFromJson:r=>((r=>{if(f(r),isNaN(new Date(r).getTime()))throw new TypeError("input value has not a valid date format")})(r),new Date(r))}},dateTimestamp:function(){return{adaptToJson:r=>(d(r),r.getTime()),recoverFromJson:r=>((r=>{if("number"!=typeof r||!isFinite(r))throw new TypeError("input value is not a number")})(r),new Date(r))}},array:J,set:function(r={adaptToJson:r=>r,recoverFromJson:r=>r}){const e=J(r);return{adaptToJson:r=>((r=>{if(!(r instanceof Set))throw new TypeError("input value is not a set")})(r),e.adaptToJson([...r])),recoverFromJson:r=>(l(r),new Set(e.recoverFromJson(r)))}},record:function(r,e){const t=(o=e,Object.assign({strictPlainObjectCheck:!1},o));var o;return{adaptToJson(e){t.strictPlainObjectCheck&&m(e);const o=Object.entries(e).map((([e,t])=>[e,r.adaptToJson(t)]));return Object.fromEntries(o)},recoverFromJson(e){m(e);const t=Object.entries(e).map((([e,t])=>[e,r.recoverFromJson(t)]));return Object.fromEntries(t)}}},mapAsEntries:y,mapAsRecord:function(r){const e=y(r);return{adaptToJson(r){const t=e.adaptToJson(r);return Object.fromEntries(t)},recoverFromJson(r){m(r);const t=Object.entries(r);return e.recoverFromJson(t)}}},object:function(r,e){const t=(o=e,Object.assign({strictPlainObjectCheck:!1,omitUnmappedProperties:!1,omittedProperties:[]},o));var o;return{adaptToJson(e){t.strictPlainObjectCheck&&m(e);const o=w(e,r,t).map((([e,t])=>{const o=r[e];return[e,o?o.adaptToJson(t):t]}));return Object.fromEntries(o)},recoverFromJson(e){m(e);const o=w(e,r,t).map((([e,t])=>{const o=r[e];return[e,o?o.recoverFromJson(t):t]}));return Object.fromEntries(o)}}},byKey:function(r){return{adaptToJson(e){const t=Object.entries(r).find((([,r])=>e===r));if(t){const[r]=t;return r}throw new Error("input value is not associated with any key")},recoverFromJson:e=>(function(r,e){if(f(r),!p(e,r))throw new Error("input value is not a valid key")}(e,r),r[e])}},byKeyLenient:function(r,e){return{adaptToJson(t){const o=Object.entries(r).find((([,r])=>t===r));if(o){const[r]=o;return r}return e},recoverFromJson(t){if(void 0!==e||void 0!==t)return f(t),p(r,t)?r[t]:null!=e?r[e]:void 0}}},custom:function(r){return r},nullAware:function(r){return{adaptToJson:e=>null===e?null:r.adaptToJson(e),recoverFromJson:e=>null===e?null:r.recoverFromJson(e)}},undefinedAware:function(r){return{adaptToJson(e){if(void 0!==e)return r.adaptToJson(e)},recoverFromJson(e){if(void 0!==e)return r.recoverFromJson(e)}}},nullishAware:function(r){return{adaptToJson:e=>T(e)?e:r.adaptToJson(e),recoverFromJson:e=>T(e)?e:r.recoverFromJson(e)}}}})(),o})()}));
//# sourceMappingURL=true-json.umd.js.map